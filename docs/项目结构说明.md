# TTPage é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“± é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ **Jetpack Compose** å¼€å‘çš„ Android åº”ç”¨é¡¹ç›®ï¼Œé‡‡ç”¨ Kotlin è¯­è¨€ç¼–å†™ã€‚é¡¹ç›®åç§°æ˜¯ `TTPage`ï¼ŒåŒ…åæ˜¯ `com.xuyang.ttpage`ã€‚

## ğŸ—ï¸ é¡¹ç›®ç»“æ„è¯¦è§£

### æ ¹ç›®å½•ç»“æ„

```
TTPage/
â”œâ”€â”€ app/                          # åº”ç”¨ä¸»æ¨¡å—ï¼ˆè¿™æ˜¯ä½ ä¸»è¦å¼€å‘çš„åœ°æ–¹ï¼‰
â”œâ”€â”€ gradle/                       # Gradle æ„å»ºå·¥å…·é…ç½®
â”œâ”€â”€ build.gradle.kts             # é¡¹ç›®çº§æ„å»ºé…ç½®
â”œâ”€â”€ settings.gradle.kts           # é¡¹ç›®è®¾ç½®æ–‡ä»¶
â”œâ”€â”€ gradle.properties            # Gradle å±æ€§é…ç½®
â”œâ”€â”€ local.properties             # æœ¬åœ°é…ç½®ï¼ˆSDKè·¯å¾„ç­‰ï¼‰
â””â”€â”€ gradlew / gradlew.bat        # Gradle åŒ…è£…å™¨è„šæœ¬
```

### ğŸ“‚ app/ ç›®å½•ï¼ˆæ ¸å¿ƒå¼€å‘ç›®å½•ï¼‰

```
app/
â”œâ”€â”€ build.gradle.kts             # åº”ç”¨æ¨¡å—çš„æ„å»ºé…ç½®å’Œä¾èµ–ç®¡ç†
â”œâ”€â”€ proguard-rules.pro           # ä»£ç æ··æ·†è§„åˆ™ï¼ˆå‘å¸ƒæ—¶ä½¿ç”¨ï¼‰
â””â”€â”€ src/
    â”œâ”€â”€ main/                    # ä¸»è¦æºä»£ç ç›®å½• â­
    â”‚   â”œâ”€â”€ AndroidManifest.xml  # åº”ç”¨æ¸…å•æ–‡ä»¶ï¼ˆé…ç½®åº”ç”¨ä¿¡æ¯ã€æƒé™ã€Activityç­‰ï¼‰
    â”‚   â”œâ”€â”€ java/                # Kotlin/Java æºä»£ç ç›®å½•
    â”‚   â”‚   â””â”€â”€ com/xuyang/ttpage/
    â”‚   â”‚       â”œâ”€â”€ MainActivity.kt      # ä¸»Activityï¼ˆåº”ç”¨å…¥å£ï¼‰â­
    â”‚   â”‚       â”œâ”€â”€ model/              # Modelå±‚ï¼šæ•°æ®æ¨¡å‹å’Œä»“åº“
    â”‚   â”‚       â”‚   â”œâ”€â”€ data/
    â”‚   â”‚       â”‚   â”‚   â””â”€â”€ Content.kt  # å†…å®¹æ•°æ®æ¨¡å‹
    â”‚   â”‚       â”‚   â””â”€â”€ repository/
    â”‚   â”‚       â”‚       â””â”€â”€ ContentRepository.kt  # æ•°æ®ä»“åº“
    â”‚   â”‚       â”œâ”€â”€ viewmodel/          # ViewModelå±‚ï¼šçŠ¶æ€ç®¡ç†
    â”‚   â”‚       â”‚   â””â”€â”€ HomeViewModel.kt  # é¦–é¡µè§†å›¾æ¨¡å‹
    â”‚   â”‚       â”œâ”€â”€ ui/                 # Viewå±‚ï¼šUIç›¸å…³ä»£ç 
    â”‚   â”‚       â”‚   â”œâ”€â”€ theme/          # ä¸»é¢˜é…ç½®
    â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Color.kt    # é¢œè‰²å®šä¹‰
    â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Theme.kt    # ä¸»é¢˜é…ç½®
    â”‚   â”‚       â”‚   â”‚   â””â”€â”€ Type.kt     # å­—ä½“æ ·å¼
    â”‚   â”‚       â”‚   â”œâ”€â”€ screens/        # é¡µé¢
    â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ HomeScreen.kt      # é¦–é¡µï¼ˆåŒåˆ—æ¨èï¼‰
    â”‚   â”‚       â”‚   â”‚   â””â”€â”€ DetailScreen.kt    # è¯¦æƒ…é¡µ
    â”‚   â”‚       â”‚   â””â”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
    â”‚   â”‚       â”‚       â””â”€â”€ VideoPlayer.kt     # è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶
    â”‚   â”‚       â”œâ”€â”€ navigation/         # å¯¼èˆªç›¸å…³
    â”‚   â”‚       â”‚   â”œâ”€â”€ NavGraph.kt     # å¯¼èˆªå›¾é…ç½®
    â”‚   â”‚       â”‚   â””â”€â”€ Screen.kt       # è·¯ç”±å®šä¹‰
    â”‚   â”‚       â””â”€â”€ util/               # å·¥å…·ç±»
    â”‚   â”‚           â””â”€â”€ ResourceHelper.kt  # èµ„æºå·¥å…·ç±»
    â”‚   â””â”€â”€ res/                  # èµ„æºæ–‡ä»¶ç›®å½•
    â”‚       â”œâ”€â”€ drawable/         # å›¾ç‰‡èµ„æºï¼ˆåŒ…æ‹¬è§†é¢‘å°é¢ï¼‰
    â”‚       â”œâ”€â”€ raw/               # åŸå§‹èµ„æºï¼ˆè§†é¢‘æ–‡ä»¶ç­‰ï¼‰
    â”‚       â”œâ”€â”€ mipmap-*/         # åº”ç”¨å›¾æ ‡ï¼ˆä¸åŒåˆ†è¾¨ç‡ï¼‰
    â”‚       â”œâ”€â”€ values/           # å€¼èµ„æºï¼ˆé¢œè‰²ã€å­—ç¬¦ä¸²ã€æ ·å¼ç­‰ï¼‰
    â”‚       â”‚   â”œâ”€â”€ colors.xml    # é¢œè‰²èµ„æº
    â”‚       â”‚   â”œâ”€â”€ strings.xml   # å­—ç¬¦ä¸²èµ„æº
    â”‚       â”‚   â””â”€â”€ themes.xml    # ä¸»é¢˜æ ·å¼
    â”‚       â””â”€â”€ xml/              # XMLé…ç½®æ–‡ä»¶
    â”œâ”€â”€ androidTest/              # Android æµ‹è¯•ä»£ç 
    â””â”€â”€ test/                     # å•å…ƒæµ‹è¯•ä»£ç 
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯
- **è¯­è¨€**: Kotlin
- **UIæ¡†æ¶**: Jetpack Composeï¼ˆå£°æ˜å¼UIï¼‰
- **æœ€ä½SDK**: Android 7.0 (API 24)
- **ç›®æ ‡SDK**: Android 14 (API 36)
- **æ„å»ºå·¥å…·**: Gradle (Kotlin DSL)

### ä¸»è¦ä¾èµ–åº“
- `androidx.compose.material3` - Material 3 è®¾è®¡ç»„ä»¶
- `androidx.compose.ui` - Compose UI æ ¸å¿ƒåº“
- `androidx.activity.compose` - Activity ä¸ Compose é›†æˆ
- `androidx.lifecycle.runtime.ktx` - ç”Ÿå‘½å‘¨æœŸç®¡ç†
- `androidx.lifecycle.viewmodel.compose` - ViewModel æ”¯æŒ
- `androidx.navigation.compose` - Navigation å¯¼èˆªç»„ä»¶
- `androidx.media3.exoplayer` - ExoPlayer è§†é¢‘æ’­æ”¾å™¨
- `androidx.media3.ui` - ExoPlayer UI ç»„ä»¶

## ğŸš€ ä»å“ªé‡Œå¼€å§‹å¼€å‘ï¼Ÿ

### 1. **å…¥å£æ–‡ä»¶ï¼šMainActivity.kt** â­â­â­
   **ä½ç½®**: `app/src/main/java/com/xuyang/ttpage/MainActivity.kt`
   
   è¿™æ˜¯åº”ç”¨çš„å…¥å£ç‚¹ï¼ŒåŒ…å«ï¼š
   - `MainActivity` ç±»ï¼šåº”ç”¨çš„ä¸»Activity
   - `Greeting` å‡½æ•°ï¼šç¤ºä¾‹Composableç»„ä»¶
   - `onCreate` æ–¹æ³•ï¼šåº”ç”¨å¯åŠ¨æ—¶æ‰§è¡Œ

   **ä»è¿™é‡Œå¼€å§‹**ï¼šä¿®æ”¹ `Greeting` å‡½æ•°æˆ–æ·»åŠ æ–°çš„ Composable å‡½æ•°æ¥æ„å»ºä½ çš„UIã€‚

### 2. **åº”ç”¨é…ç½®ï¼šAndroidManifest.xml** â­â­
   **ä½ç½®**: `app/src/main/AndroidManifest.xml`
   
   é…ç½®åº”ç”¨çš„åŸºæœ¬ä¿¡æ¯ï¼š
   - åº”ç”¨åç§°ã€å›¾æ ‡
   - Activityå£°æ˜
   - æƒé™ç”³è¯·
   - åº”ç”¨å…¥å£Activity

### 3. **UIä¸»é¢˜ï¼šui/theme/** â­
   **ä½ç½®**: `app/src/main/java/com/xuyang/ttpage/ui/theme/`
   
   è‡ªå®šä¹‰åº”ç”¨çš„å¤–è§‚ï¼š
   - `Color.kt` - å®šä¹‰é¢œè‰²
   - `Theme.kt` - å®šä¹‰ä¸»é¢˜
   - `Type.kt` - å®šä¹‰å­—ä½“æ ·å¼

### 4. **èµ„æºæ–‡ä»¶ï¼šres/** â­
   - `res/values/strings.xml` - æ–‡æœ¬å­—ç¬¦ä¸²ï¼ˆæ”¯æŒå¤šè¯­è¨€ï¼‰
   - `res/values/colors.xml` - é¢œè‰²èµ„æº
   - `res/drawable/` - å›¾ç‰‡èµ„æº

### 5. **ä¾èµ–ç®¡ç†ï¼šbuild.gradle.kts** â­
   **ä½ç½®**: `app/build.gradle.kts`
   
   æ·»åŠ æ–°çš„ä¾èµ–åº“æ—¶ä¿®æ”¹æ­¤æ–‡ä»¶ã€‚

## ğŸ“ å¼€å‘å»ºè®®

### å¯¹äºåˆå­¦è€…ï¼š

1. **å…ˆç†è§£ MainActivity.kt**
   - çœ‹çœ‹ `onCreate` æ–¹æ³•å¦‚ä½•è®¾ç½®UI
   - ç†è§£ `@Composable` æ³¨è§£çš„ä½œç”¨
   - å°è¯•ä¿®æ”¹ `Greeting` å‡½æ•°çš„å†…å®¹

2. **å­¦ä¹  Jetpack Compose åŸºç¡€**
   - Compose ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³
   - æ¯ä¸ªUIç»„ä»¶éƒ½æ˜¯ä¸€ä¸ª `@Composable` å‡½æ•°
   - ä½¿ç”¨ `setContent` æ¥è®¾ç½®Activityçš„å†…å®¹

3. **åˆ›å»ºæ–°çš„UIç»„ä»¶**
   - åœ¨ `MainActivity.kt` æˆ–æ–°å»ºæ–‡ä»¶ä¸­åˆ›å»º `@Composable` å‡½æ•°
   - ä½¿ç”¨ Material3 ç»„ä»¶ï¼ˆå¦‚ `Text`, `Button`, `Card` ç­‰ï¼‰
   - åœ¨ `MainActivity` ä¸­è°ƒç”¨ä½ çš„æ–°ç»„ä»¶

4. **ç»„ç»‡ä»£ç ç»“æ„**
   - å»ºè®®æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 
   - ä¾‹å¦‚ï¼š`ui/screens/`ï¼ˆé¡µé¢ï¼‰ã€`ui/components/`ï¼ˆç»„ä»¶ï¼‰ã€`data/`ï¼ˆæ•°æ®ï¼‰ç­‰

### å½“å‰é¡¹ç›®ç»“æ„ï¼ˆMVVMæ¶æ„ï¼‰ï¼š

```
app/src/main/java/com/xuyang/ttpage/
â”œâ”€â”€ MainActivity.kt              # ä¸»Activityï¼ˆViewå±‚å…¥å£ï¼‰
â”‚
â”œâ”€â”€ model/                        # Modelå±‚ï¼šæ•°æ®å’Œä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ Content.kt           # å†…å®¹æ•°æ®æ¨¡å‹ï¼ˆåŒ…å«è§†é¢‘å±æ€§ï¼‰
â”‚   â””â”€â”€ repository/
â”‚       â””â”€â”€ ContentRepository.kt # æ•°æ®ä»“åº“ï¼ˆæä¾›æ¨¡æ‹Ÿæ•°æ®ï¼‰
â”‚
â”œâ”€â”€ viewmodel/                    # ViewModelå±‚ï¼šçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ HomeViewModel.kt         # é¦–é¡µè§†å›¾æ¨¡å‹
â”‚
â”œâ”€â”€ ui/                           # Viewå±‚ï¼šUIç•Œé¢
â”‚   â”œâ”€â”€ theme/                    # ä¸»é¢˜é…ç½®
â”‚   â”‚   â”œâ”€â”€ Color.kt
â”‚   â”‚   â”œâ”€â”€ Theme.kt
â”‚   â”‚   â””â”€â”€ Type.kt
â”‚   â”œâ”€â”€ screens/                  # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ HomeScreen.kt        # é¦–é¡µï¼ˆåŒåˆ—æ¨èå¸ƒå±€ï¼‰
â”‚   â”‚   â””â”€â”€ DetailScreen.kt      # è¯¦æƒ…é¡µï¼ˆæ˜¾ç¤ºå†…å®¹å’Œè§†é¢‘ï¼‰
â”‚   â””â”€â”€ components/              # å¯å¤ç”¨ç»„ä»¶
â”‚       â””â”€â”€ VideoPlayer.kt       # è§†é¢‘æ’­æ”¾å™¨ï¼ˆæ’­æ”¾/æš‚åœ/è¿›åº¦æ¡ï¼‰
â”‚
â”œâ”€â”€ navigation/                   # å¯¼èˆªç›¸å…³
â”‚   â”œâ”€â”€ NavGraph.kt              # å¯¼èˆªå›¾é…ç½®
â”‚   â””â”€â”€ Screen.kt                # è·¯ç”±å®šä¹‰
â”‚
â””â”€â”€ util/                         # å·¥å…·ç±»
    â””â”€â”€ ResourceHelper.kt        # èµ„æºå·¥å…·ç±»ï¼ˆæœ¬åœ°èµ„æºURIï¼‰
```

### èµ„æºæ–‡ä»¶ç»“æ„ï¼š

```
app/src/main/res/
â”œâ”€â”€ drawable/                     # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ cover1.png               # è§†é¢‘å°é¢å›¾ç‰‡
â”‚   â”œâ”€â”€ cover2.png
â”‚   â””â”€â”€ ...
â”œâ”€â”€ raw/                          # åŸå§‹èµ„æº
â”‚   â”œâ”€â”€ video1.mp4               # è§†é¢‘æ–‡ä»¶
â”‚   â”œâ”€â”€ video2.mp4
â”‚   â””â”€â”€ ...
â””â”€â”€ values/                        # å€¼èµ„æº
    â”œâ”€â”€ colors.xml
    â”œâ”€â”€ strings.xml
    â””â”€â”€ themes.xml
```

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **è¿è¡Œé¡¹ç›®**
   - åœ¨ Android Studio ä¸­ç‚¹å‡»è¿è¡ŒæŒ‰é’®
   - æˆ–ä½¿ç”¨å‘½ä»¤è¡Œï¼š`./gradlew installDebug`

2. **ä¿®æ”¹ç¤ºä¾‹ä»£ç **
   - æ‰“å¼€ `MainActivity.kt`
   - ä¿®æ”¹ `Greeting` å‡½æ•°çš„æ–‡æœ¬å†…å®¹
   - è¿è¡Œåº”ç”¨æŸ¥çœ‹æ•ˆæœ

3. **æ·»åŠ æ–°åŠŸèƒ½**
   - åˆ›å»ºæ–°çš„ Composable å‡½æ•°
   - æ·»åŠ æŒ‰é’®ã€è¾“å…¥æ¡†ç­‰ç»„ä»¶
   - å­¦ä¹  Compose çš„çŠ¶æ€ç®¡ç†

4. **å­¦ä¹ èµ„æº**
   - [Jetpack Compose å®˜æ–¹æ–‡æ¡£](https://developer.android.com/jetpack/compose)
   - [Kotlin å®˜æ–¹æ–‡æ¡£](https://kotlinlang.org/docs/home.html)
   - [Android å¼€å‘è€…æŒ‡å—](https://developer.android.com/guide)

## ğŸ“¦ å·²å®ç°çš„åŠŸèƒ½

### Feature/Basic âœ…
1. âœ… é¦–é¡µåŒåˆ—æ¨èé¡µé¢ï¼ˆå·¦å³ä¸¤åˆ—å¸ƒå±€ï¼‰
2. âœ… å†…å®¹å®ä½“ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€æ—¶é—´ã€ç‚¹èµã€è¯„è®ºã€çƒ­é—¨æ ‡ç­¾ï¼‰
3. âœ… ç‚¹å‡»å†…å®¹è·³è½¬åˆ°è¯¦æƒ…é¡µ
4. âœ… è¯¦æƒ…é¡µæ»‘åŠ¨è¿”å›ä¸»é¡µ

### Feature/Video âœ…
1. âœ… å®ä½“å¢åŠ è§†é¢‘å°é¢å’Œè§†é¢‘æ–‡ä»¶å±æ€§
2. âœ… è§†é¢‘æ’­æ”¾å™¨åŠŸèƒ½ï¼ˆæ’­æ”¾ã€æš‚åœã€è¿›åº¦æ¡ï¼‰

## ğŸ’¡ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢ï¼Ÿ**
A: åœ¨ `ui/screens/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ Screenï¼Œç„¶ååœ¨ `navigation/NavGraph.kt` ä¸­æ·»åŠ è·¯ç”±é…ç½®ã€‚

**Q: å¦‚ä½•ä½¿ç”¨æœ¬åœ°è§†é¢‘å’Œå›¾ç‰‡èµ„æºï¼Ÿ**
A: 
- è§†é¢‘æ–‡ä»¶æ”¾åœ¨ `app/src/main/res/raw/` ç›®å½•ï¼ˆå¦‚ `video1.mp4`ï¼‰
- å›¾ç‰‡æ–‡ä»¶æ”¾åœ¨ `app/src/main/res/drawable/` ç›®å½•ï¼ˆå¦‚ `cover1.png`ï¼‰
- åœ¨ `ContentRepository` ä¸­ä½¿ç”¨èµ„æºåç§°ï¼ˆä¸å«æ‰©å±•åï¼‰ï¼Œå¦‚ `"video1"` å’Œ `"cover1"`
- è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ `æœ¬åœ°èµ„æºä½¿ç”¨è¯´æ˜.md`

**Q: å¦‚ä½•æ·»åŠ ç½‘ç»œè¯·æ±‚ï¼Ÿ**
A: åœ¨ `build.gradle.kts` ä¸­æ·»åŠ  Retrofit æˆ– Ktor ç­‰ç½‘ç»œåº“ä¾èµ–ï¼Œç„¶ååœ¨ `model/repository/` ä¸­å®ç°æ•°æ®è·å–é€»è¾‘ã€‚

**Q: å¦‚ä½•ä¿å­˜æ•°æ®ï¼Ÿ**
A: å¯ä»¥ä½¿ç”¨ SharedPreferencesï¼ˆç®€å•æ•°æ®ï¼‰ã€Roomï¼ˆæ•°æ®åº“ï¼‰æˆ– DataStoreï¼ˆæ¨èï¼‰ã€‚

**Q: è§†é¢‘æ’­æ”¾å™¨æ”¯æŒå“ªäº›æ ¼å¼ï¼Ÿ**
A: ExoPlayer æ”¯æŒ MP4ã€WebMã€MKV ç­‰å¸¸è§è§†é¢‘æ ¼å¼ã€‚å»ºè®®ä½¿ç”¨ MP4 æ ¼å¼ä»¥è·å¾—æœ€ä½³å…¼å®¹æ€§ã€‚

---

**ç¥ä½ å¼€å‘é¡ºåˆ©ï¼** ğŸ‰

